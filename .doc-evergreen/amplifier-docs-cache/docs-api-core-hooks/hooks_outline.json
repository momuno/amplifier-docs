{
  "_meta": {
    "name": "hooks-api-outline",
    "description": "API reference documentation for HookRegistry and HookResult in the Amplifier hooks system",
    "use_case": "Reference documentation for developers using the hooks API to register handlers and return results",
    "quadrant": "reference",
    "estimated_lines": "200-300 lines",
    "generation_method": "forward",
    "doc_type": "api_reference",
    "user_intent": "Provide concise API reference for HookRegistry methods and HookResult structure with usage examples. Use code, tables, bullets, diagrams, or prose as needed to clearly explain the methods and data structures. Avoid writing lists as prose unless absolutely necessary. If the list is code related, tables often work well."
  },
  "document": {
    "title": "# Hooks API",
    "output": "api-core-hooks.md",
    "sections": [
      {
        "heading": "# Hooks API",
        "level": 1,
        "prompt": "Provide a concise introduction for the Hooks API.",
        "sources": [
          {
            "file": "amplifier-core/docs/HOOKS_API.md",
            "reasoning": "Contains the overview section that introduces hooks."
          }
        ],
        "sections": [
          {
            "heading": "## HookRegistry",
            "level": 2,
            "prompt": "Provide a concise introduction for the HookRegistry as the class that manages hook registration and event emission.",
            "sources": [
              {
                "file": "amplifier-core/amplifier_core/hooks.py",
                "reasoning": "Defines the HookRegistry class with docstring explaining it manages lifecycle hooks with deterministic execution"
              }
            ],
            "sections": [
              {
                "heading": "### Methods",
                "level": 3,
                "prompt": "Provide a concise introduction to the methods section for HookRegistry. Include a table of what the methods are. Do NOT include any method sections below that do NOT exist in the source code.",
                "sources": [
                  {
                    "file": "amplifier-core/amplifier_core/hooks.py",
                    "reasoning": "Contains the method implementations. "
                  }
                ],
                "sections": [
                  {
                    "heading": "#### register",
                    "level": 4,
                    "prompt": "Document the register() method. Show a code example. Explain its parameters and its return.",
                    "sources": [
                      {
                        "file": "amplifier-core/amplifier_core/hooks.py",
                        "reasoning": "Contains the register() method implementation with docstring explaining parameters"
                      },
                      {
                        "file": "amplifier-core/docs/HOOKS_API.md",
                        "reasoning": "Contains the registration section with function signature, parameter documentation, and comprehensive example"
                      }
                    ],
                    "sections": []
                  },
                  {
                    "heading": "#### emit",
                    "level": 4,
                    "prompt": "Document the emit() method. Show a code example. Explain its parameters and its return.",
                    "sources": [
                      {
                        "file": "amplifier-core/amplifier_core/hooks.py",
                        "reasoning": "Contains the emit() method with comprehensive docstring"
                      }
                    ],
                    "sections": []
                  }
                ]
              }
            ]
          },
          {
            "heading": "## HookResult",
            "level": 2,
            "prompt": "Introduce HookResult as the data structure returned by hook handlers to control execution flow. Keep it concise.",
            "sources": [
              {
                "file": "amplifier-core/docs/HOOKS_API.md",
                "reasoning": "Introduces HookResult and its purpose for controlling execution flow"
              }
            ],
            "sections": [
              {
                "heading": "### Actions",
                "level": 3,
                "prompt": "Document the available actions in HookResult. Present as a table with Action and Description columns.",
                "sources": [
                  {
                    "file": "amplifier-core/docs/HOOKS_API.md",
                    "reasoning": "Contain the actions table with all action types, their behaviors, and use cases"
                  }
                ],
                "sections": []
              },
              {
                "heading": "### Fields",
                "level": 3,
                "prompt": "Show the HookResult dataclass definition as a code block with all fields. Include default values and types.",
                "sources": [
                  {
                    "file": "amplifier-core/docs/HOOKS_API.md",
                    "reasoning": "Contains the complete HookResult class definition with proper type annotations for all fields organized by purpose"
                  }
                ],
                "sections": []
              },
              {
                "heading": "### Examples",
                "level": 3,
                "prompt": "Introduce the examples section showing common HookResult usage patterns.",
                "sources": [
                  {
                    "file": "amplifier-core/docs/HOOKS_API.md",
                    "reasoning": "Contain multiple pattern examples demonstrating HookResult usage"
                  }
                ],
                "sections": [
                  {
                    "heading": "#### Continue (observe only)",
                    "level": 4,
                    "prompt": "Show a simple example of returning HookResult for observation-only hooks. Keep the sample under 10 lines.",
                    "sources": [
                      {
                        "file": "amplifier-core/docs/HOOKS_API.md",
                        "reasoning": "Contains examples of continue action in context of validation hooks"
                      }
                    ],
                    "sections": []
                  },
                  {
                    "heading": "#### Deny operation",
                    "level": 4,
                    "prompt": "Show an example of returning HookResult to block an operation. Keep the sample under 10 lines.",
                    "sources": [
                      {
                        "file": "amplifier-core/docs/HOOKS_API.md",
                        "reasoning": "The deny action is documented in the actions table and used in pattern examples for blocking operations"
                      }
                    ],
                    "sections": []
                  },
                  {
                    "heading": "#### Inject context to agent",
                    "level": 4,
                    "prompt": "Show an example of returning HookResult to inject feedback into the agent's context. Keep the sample under 10 lines.",
                    "sources": [
                      {
                        "file": "amplifier-core/docs/HOOKS_API.md",
                        "reasoning": "Provides the context injection pattern with a complete validation hook example showing inject_context action, context_injection field, and user_message"
                      }
                    ],
                    "sections": []
                  },
                  {
                    "heading": "#### Request approval",
                    "level": 4,
                    "prompt": "Show an example of returning HookResult to request user approval for an operation. Keep the sample under 10 lines.",
                    "sources": [
                      {
                        "file": "amplifier-core/docs/HOOKS_API.md",
                        "reasoning": "Provides the approval gates pattern with a production protection example."
                      }
                    ],
                    "sections": []
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}
